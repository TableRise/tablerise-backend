{"openapi":"3.0.3","info":{"title":"TableRise - campaigns","contact":{"email":"tablerise@outlook.com","name":"tablerise"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"version":"3.0.0"},"servers":[{"url":"http://localhost:3001/"}],"tags":[{"name":"recover"},{"name":"create"},{"name":"management"},{"name":"ban"},{"name":"update"}],"paths":{"/campaigns/{id}":{"get":{"tags":["recover"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"description":"This route gets an already created campaign by ID"}},"/campaigns":{"get":{"tags":["recover"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"description":"This route returns all campaigns"}},"/campaigns/create":{"post":{"tags":["create"],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"consumes":["multipart/form-data"],"description":"This route creates and return a campaign","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Future-proofed upward-trending matrices"},"visibility":{"type":"string","example":"visible"},"description":{"type":"string","example":"architect ubiquitous markets"},"system":{"type":"string","example":"dnd5e"},"ageRestriction":{"type":"number","example":5},"password":{"type":"string","example":"1234"},"cover":{"type":"string","example":{"isBinary":true},"format":"binary"}}}}}}}},"/campaigns/{id}/publishment":{"post":{"tags":["create"],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route publish a post in the campaign","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Future-proofed upward-trending matrices"},"content":{"type":"string","example":"A new character will be added to campaign in next match"}}}}}}}},"/campaigns/{id}/invite":{"post":{"tags":["management"],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"targetEmail","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route sends a campaign invitation via email"}},"/campaigns/{id}/ban":{"post":{"tags":["ban"],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"playerId","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route banish a player"}},"/campaigns/{id}/update":{"put":{"tags":["update"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"consumes":["multipart/form-data"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"description":"This route updates some campaign info","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Future-proofed upward-trending matrices"},"visibility":{"type":"string","example":"visible"},"description":{"type":"string","example":"architect ubiquitous markets"},"cover":{"type":"string","example":{"isBinary":true},"format":"binary"}}}}}}}},"/campaigns/{id}/update/match/map-images":{"patch":{"tags":["update"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"consumes":["multipart/form-data"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route updates the match map images","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"mapImage":{"type":"string","example":{"isBinary":true},"format":"binary"}}}}}}}},"/campaigns/{id}/update/match/musics":{"patch":{"tags":["update"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route updates the match musics","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Main Theme"},"youtubeLink":{"type":"string","example":"https://youtube.com/"}}}}}}}},"/campaigns/{id}/update/infos/match-dates":{"patch":{"tags":["update"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"date","in":"query","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route updates the match dates\n\n------------------------\nParams:\n- id: expects the campaign id.\n\nQuery:\n- date: \"YYYY-MM-DD\" format\n- operation: \"add\" | \"remove\""}},"/campaigns/{id}/add/match/players":{"patch":{"tags":["management"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}},{"name":"characterId","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route adds player to campaign"}},"/campaigns/{id}/remove/match/players":{"patch":{"tags":["management"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}},{"name":"characterId","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route removes player to campaign"}},"/campaigns/{id}/update/images":{"patch":{"tags":["update"],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Unprocessable Entity"},"500":{"description":"Internal"}},"consumes":["multipart/form-data"],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"imageId","in":"query","required":true,"schema":{"type":"string"}},{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","required":true,"schema":{"type":"string"}}],"description":"This route updates the campaign images","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"image":{"type":"string","example":{"isBinary":true},"format":"binary"}}}}}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}